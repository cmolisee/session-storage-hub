var content=function(){"use strict";function je(e){return e}const I=globalThis.browser?.runtime?.id==null?globalThis.chrome:globalThis.browser;function O(e,...s){}const ge={debug:(...e)=>O(console.debug,...e),log:(...e)=>O(console.log,...e),warn:(...e)=>O(console.warn,...e),error:(...e)=>O(console.error,...e)};class D extends Event{constructor(s,r){super(D.EVENT_NAME,{}),this.newUrl=s,this.oldUrl=r}static EVENT_NAME=U("wxt:locationchange")}function U(e){return`${I?.runtime?.id}:content:${e}`}function me(e){let s,r;return{run(){s==null&&(r=new URL(location.href),s=e.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new D(n,r)),r=n)},1e3))}}}class L{constructor(s,r){this.contentScriptName=s,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=U("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=me(this);get signal(){return this.abortController.signal}abort(s){return this.abortController.abort(s)}get isInvalid(){return I.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(s){return this.signal.addEventListener("abort",s),()=>this.signal.removeEventListener("abort",s)}block(){return new Promise(()=>{})}setInterval(s,r){const n=setInterval(()=>{this.isValid&&s()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(s,r){const n=setTimeout(()=>{this.isValid&&s()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(s){const r=requestAnimationFrame((...n)=>{this.isValid&&s(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(s,r){const n=requestIdleCallback((...a)=>{this.signal.aborted||s(...a)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(s,r,n,a){r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),s.addEventListener?.(r.startsWith("wxt:")?U(r):r,n,{...a,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),ge.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:L.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")}listenForNewerScripts(s){let r=!0;const n=a=>{if(a.data?.type===L.SCRIPT_STARTED_MESSAGE_TYPE&&a.data?.contentScriptName===this.contentScriptName){const d=r;if(r=!1,d&&s?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}}const ce=Symbol("null");let ue=0;class Ae extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[s]=arguments;if(s!=null){if(typeof s[Symbol.iterator]!="function")throw new TypeError(typeof s+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,n]of s)this.set(r,n)}}_getPublicKeys(s,r=!1){if(!Array.isArray(s))throw new TypeError("The keys parameter must be an array");const n=this._getPrivateKey(s,r);let a;return n&&this._publicKeys.has(n)?a=this._publicKeys.get(n):r&&(a=[...s],this._publicKeys.set(n,a)),{privateKey:n,publicKey:a}}_getPrivateKey(s,r=!1){const n=[];for(let a of s){a===null&&(a=ce);const d=typeof a=="object"||typeof a=="function"?"_objectHashes":typeof a=="symbol"?"_symbolHashes":!1;if(!d)n.push(a);else if(this[d].has(a))n.push(this[d].get(a));else if(r){const g=`@@mkm-ref-${ue++}@@`;this[d].set(a,g),n.push(g)}else return!1}return JSON.stringify(n)}set(s,r){const{publicKey:n}=this._getPublicKeys(s,!0);return super.set(n,r)}get(s){const{publicKey:r}=this._getPublicKeys(s);return super.get(r)}has(s){const{publicKey:r}=this._getPublicKeys(s);return super.has(r)}delete(s){const{publicKey:r,privateKey:n}=this._getPublicKeys(s);return!!(r&&super.delete(r)&&this._publicKeys.delete(n))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new Ae;var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}async function pe(e,s){const r=I.runtime.getURL(e),n=document.createElement("script");I.runtime.getManifest().manifest_version===2?n.innerHTML=await fetch(r).then(a=>a.text()):n.src=r,(document.head??document.documentElement).append(n)}var G=(e=>(e.WEBPAGE="@ssh/messaging/webpage",e.EXTENSION="@ssh/messagng/extension",e))(G||{});const he=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),be=new Map(he);class W extends Error{name="NonError";constructor(s){super(W._prepareSuperMessage(s))}static _prepareSuperMessage(s){try{return JSON.stringify(s)}catch{return String(s)}}}const xe=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],q=new WeakSet,ye=e=>{q.add(e);const s=e.toJSON();return q.delete(e),s},J=e=>be.get(e)??Error,V=({from:e,seen:s,to:r,forceEnumerable:n,maxDepth:a,depth:d,useToJSON:g,serialize:p})=>{if(!r)if(Array.isArray(e))r=[];else if(!p&&Y(e)){const o=J(e.name);r=new o}else r={};if(s.push(e),d>=a)return r;if(g&&typeof e.toJSON=="function"&&!q.has(e))return ye(e);const u=o=>V({from:o,seen:[...s],forceEnumerable:n,maxDepth:a,depth:d,useToJSON:g,serialize:p});for(const[o,A]of Object.entries(e)){if(A&&A instanceof Uint8Array&&A.constructor.name==="Buffer"){r[o]="[object Buffer]";continue}if(A!==null&&typeof A=="object"&&typeof A.pipe=="function"){r[o]="[object Stream]";continue}if(typeof A!="function"){if(!A||typeof A!="object"){try{r[o]=A}catch{}continue}if(!s.includes(e[o])){d++,r[o]=u(e[o]);continue}r[o]="[Circular]"}}for(const{property:o,enumerable:A}of xe)typeof e[o]<"u"&&e[o]!==null&&Object.defineProperty(r,o,{value:Y(e[o])?u(e[o]):e[o],enumerable:n?!0:A,configurable:!0,writable:!0});return r};function we(e,s={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=s;return typeof e=="object"&&e!==null?V({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function ve(e,s={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=s;if(e instanceof Error)return e;if(Ee(e)){const n=J(e.name);return V({from:e,seen:[],to:new n,maxDepth:r,depth:0,serialize:!1})}return new W(e)}function Y(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function Ee(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var Te=Object.defineProperty,_e=Object.defineProperties,Se=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,X=(e,s,r)=>s in e?Te(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,R=(e,s)=>{for(var r in s||(s={}))Me.call(s,r)&&X(e,r,s[r]);if(Z)for(var r of Z(s))Pe.call(s,r)&&X(e,r,s[r]);return e},j=(e,s)=>_e(e,Se(s)),Q=(e,s,r)=>new Promise((n,a)=>{var d=u=>{try{p(r.next(u))}catch(o){a(o)}},g=u=>{try{p(r.throw(u))}catch(o){a(o)}},p=u=>u.done?n(u.value):Promise.resolve(u.value).then(d,g);p((r=r.apply(e,s)).next())});function ee(e){let s,r={};function n(){Object.entries(r).length===0&&(s?.(),s=void 0)}let a=Math.floor(Math.random()*1e4);function d(){return a++}return{sendMessage(g,p,...u){return Q(this,null,function*(){var o,A,f,M;const _={id:d(),type:g,data:p,timestamp:Date.now()},v=(A=yield(o=e.verifyMessageData)==null?void 0:o.call(e,_))!=null?A:_;(f=e.logger)==null||f.debug(`[messaging] sendMessage {id=${v.id}} ─ᐅ`,v,...u);const P=yield e.sendMessage(v,...u),{res:x,err:y}=P??{err:new Error("No response")};if((M=e.logger)==null||M.debug(`[messaging] sendMessage {id=${v.id}} ᐊ─`,{res:x,err:y}),y!=null)throw ve(y);return x})},onMessage(g,p){var u,o,A;if(s==null&&((u=e.logger)==null||u.debug(`[messaging] "${g}" initialized the message listener for this context`),s=e.addRootListener(f=>{var M,_;if(typeof f.type!="string"||typeof f.timestamp!="number"){if(e.breakError)return;const x=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(f)}`);throw(M=e.logger)==null||M.error(x),x}(_=e?.logger)==null||_.debug("[messaging] Received message",f);const v=r[f.type];if(v==null)return;const P=v(f);return Promise.resolve(P).then(x=>{var y,B;return(B=(y=e.verifyMessageData)==null?void 0:y.call(e,x))!=null?B:x}).then(x=>{var y;return(y=e?.logger)==null||y.debug(`[messaging] onMessage {id=${f.id}} ─ᐅ`,{res:x}),{res:x}}).catch(x=>{var y;return(y=e?.logger)==null||y.debug(`[messaging] onMessage {id=${f.id}} ─ᐅ`,{err:x}),{err:we(x)}})})),r[g]!=null){const f=Error(`[messaging] In this JS context, only one listener can be setup for ${g}`);throw(o=e.logger)==null||o.error(f),f}return r[g]=p,(A=e.logger)==null||A.log(`[messaging] Added listener for ${g}`),()=>{delete r[g],n()}},removeAllListeners(){Object.keys(r).forEach(g=>{delete r[g]}),n()}}}for(var k=256,re=[],se=256,F;k--;)re[k]=(k+256).toString(16).substring(1);function ke(e){var s=0,r=11;if(!F||k+r>se*2)for(F="",k=0;s<se;s++)F+=re[Math.random()*256|0];return F.substring(k,k+++r)}var ne="@webext-core/messaging/window",te="@webext-core/messaging/window/response";function Ce(e){const s=e.namespace,r=ke();let n=[];const a=(g,p)=>new Promise(u=>{const o=f=>{f.data.type===te&&f.data.namespace===s&&f.data.instanceId!==r&&f.data.message.type===g.type&&(u(f.data.response),A())},A=()=>window.removeEventListener("message",o);n.push(A),window.addEventListener("message",o),window.postMessage({type:ne,message:g,senderOrigin:location.origin,namespace:s,instanceId:r},p??"*")}),d=ee(j(R({},e),{sendMessage(g,p){return a(g,p)},addRootListener(g){const p=u=>Q(this,null,function*(){if(u.data.type!==ne||u.data.namespace!==s||u.data.instanceId===r)return;const o=yield g(u.data.message);window.postMessage({type:te,response:o,instanceId:r,message:u.data.message,namespace:s},u.data.senderOrigin)});return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},verifyMessageData(g){return structuredClone(g)}}));return j(R({},d),{removeAllListeners(){d.removeAllListeners(),n.forEach(g=>g()),n=[]}})}const ie=Ce({namespace:G.WEBPAGE});var ae={exports:{}};(function(e,s){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:de,function(r){if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const n="The message port closed before a response was received.",a=d=>{const g={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(g).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(i,m=void 0){super(m),this.createItem=i}get(i){return this.has(i)||this.set(i,this.createItem(i)),super.get(i)}}const u=t=>t&&typeof t=="object"&&typeof t.then=="function",o=(t,i)=>(...m)=>{d.runtime.lastError?t.reject(new Error(d.runtime.lastError.message)):i.singleCallbackArg||m.length<=1&&i.singleCallbackArg!==!1?t.resolve(m[0]):t.resolve(m)},A=t=>t==1?"argument":"arguments",f=(t,i)=>function(c,...b){if(b.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${A(i.minArgs)} for ${t}(), got ${b.length}`);if(b.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${A(i.maxArgs)} for ${t}(), got ${b.length}`);return new Promise((w,E)=>{if(i.fallbackToNoCallback)try{c[t](...b,o({resolve:w,reject:E},i))}catch(l){console.warn(`${t} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,l),c[t](...b),i.fallbackToNoCallback=!1,i.noCallback=!0,w()}else i.noCallback?(c[t](...b),w()):c[t](...b,o({resolve:w,reject:E},i))})},M=(t,i,m)=>new Proxy(i,{apply(c,b,w){return m.call(b,t,...w)}});let _=Function.call.bind(Object.prototype.hasOwnProperty);const v=(t,i={},m={})=>{let c=Object.create(null),b={has(E,l){return l in t||l in c},get(E,l,T){if(l in c)return c[l];if(!(l in t))return;let h=t[l];if(typeof h=="function")if(typeof i[l]=="function")h=M(t,t[l],i[l]);else if(_(m,l)){let C=f(l,m[l]);h=M(t,t[l],C)}else h=h.bind(t);else if(typeof h=="object"&&h!==null&&(_(i,l)||_(m,l)))h=v(h,i[l],m[l]);else if(_(m,"*"))h=v(h,i[l],m["*"]);else return Object.defineProperty(c,l,{configurable:!0,enumerable:!0,get(){return t[l]},set(C){t[l]=C}}),h;return c[l]=h,h},set(E,l,T,h){return l in c?c[l]=T:t[l]=T,!0},defineProperty(E,l,T){return Reflect.defineProperty(c,l,T)},deleteProperty(E,l){return Reflect.deleteProperty(c,l)}},w=Object.create(t);return new Proxy(w,b)},P=t=>({addListener(i,m,...c){i.addListener(t.get(m),...c)},hasListener(i,m){return i.hasListener(t.get(m))},removeListener(i,m){i.removeListener(t.get(m))}}),x=new p(t=>typeof t!="function"?t:function(m){const c=v(m,{},{getContent:{minArgs:0,maxArgs:0}});t(c)}),y=new p(t=>typeof t!="function"?t:function(m,c,b){let w=!1,E,l=new Promise(N=>{E=function(S){w=!0,N(S)}}),T;try{T=t(m,c,E)}catch(N){T=Promise.reject(N)}const h=T!==!0&&u(T);if(T!==!0&&!h&&!w)return!1;const C=N=>{N.then(S=>{b(S)},S=>{let H;S&&(S instanceof Error||typeof S.message=="string")?H=S.message:H="An unexpected error occurred",b({__mozWebExtensionPolyfillReject__:!0,message:H})}).catch(S=>{console.error("Failed to send onMessage rejected reply",S)})};return C(h?T:l),!0}),B=({reject:t,resolve:i},m)=>{d.runtime.lastError?d.runtime.lastError.message===n?i():t(new Error(d.runtime.lastError.message)):m&&m.__mozWebExtensionPolyfillReject__?t(new Error(m.message)):i(m)},le=(t,i,m,...c)=>{if(c.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${A(i.minArgs)} for ${t}(), got ${c.length}`);if(c.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${A(i.maxArgs)} for ${t}(), got ${c.length}`);return new Promise((b,w)=>{const E=B.bind(null,{resolve:b,reject:w});c.push(E),m.sendMessage(...c)})},Re={devtools:{network:{onRequestFinished:P(x)}},runtime:{onMessage:P(y),onMessageExternal:P(y),sendMessage:le.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:le.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},z={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return g.privacy={network:{"*":z},services:{"*":z},websites:{"*":z}},v(d,Re,g)};r.exports=a(chrome)}else r.exports=globalThis.browser})})(ae);var Ne=ae.exports;const $=fe(Ne);function Ie(e){return ee(j(R({},e),{sendMessage(s,r){return r==null?$.runtime.sendMessage(s):$.tabs.sendMessage(r,s)},addRootListener(s){const r=(n,a)=>s(typeof n=="object"?j(R({},n),{sender:a}):n);return $.runtime.onMessage.addListener(r),()=>$.runtime.onMessage.removeListener(r)}}))}const oe=Ie(),Oe={matches:["<all_urls>"],async main(){async function e(){await pe("/inject.js")}ie.onMessage("updateToExtension",async s=>await oe.sendMessage("updateFromPage",s.data).then(()=>!0).catch(r=>(console.debug(r),!1))),oe.onMessage("sendToContent",async s=>await ie.sendMessage("updateFromExtension",s.data).then(()=>!0).catch(r=>(console.debug(r),!1))),e()}};function Fe(){}function K(e,...s){}const Le={debug:(...e)=>K(console.debug,...e),log:(...e)=>K(console.log,...e),warn:(...e)=>K(console.warn,...e),error:(...e)=>K(console.error,...e)};return(async()=>{try{const{main:e,...s}=Oe,r=new L("content",s);return await e(r)}catch(e){throw Le.error('The content script "content" crashed on startup!',e),e}})()}();
content;
