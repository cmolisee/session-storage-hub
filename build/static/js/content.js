!function(){"use strict";var e={"./src/types/types.ts":function(e,t,r){r.r(t),r.d(t,{Action:function(){return o},Sender:function(){return n}});var n=function(e){return e[e.Webpage=0]="Webpage",e[e.Extension=1]="Extension",e}({}),o=function(e){return e[e.Request=0]="Request",e[e.Update=1]="Update",e[e.Post=2]="Post",e[e.Check=3]="Check",e}({})},"./src/utils/helperUtils.ts":function(e,t,r){r.r(t),r.d(t,{MS_TO_HR_FACTOR:function(){return n},convertMsToHr:function(){return o},getKeyByValue:function(){return s}});var n=2777777;function o(e){return e/n}function s(e,t){for(var r in t)if(t[r]===e)return r}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){r.r(n);var e=r("./src/types/types.ts"),t=r("./src/utils/helperUtils.ts"),o=function(e,t,r,n){return n.id===chrome.runtime.id&&r.from===e&&r.action===t},s=function(t,r,n){if(o(e.Sender.Extension,e.Action.Request,t,r)){var s=Object.assign({},sessionStorage);return n({error:s?null:"Error retrieving session storage",data:s}),!0}return!1},i=function(t,r,n){if(o(e.Sender.Extension,e.Action.Update,t,r)){try{var s,i;Object.entries(null!==(s=null===(i=t.message)||void 0===i?void 0:i.clipboard)&&void 0!==s?s:{}).forEach((function(e){sessionStorage.setItem(e[0],e[1])})),n({error:null,data:Object.assign({},sessionStorage)})}catch(a){n({error:"Error updating session storage data",data:null})}return!0}return!1},a=function(r,n,s){if(o(e.Sender.Extension,e.Action.Check,r,n)){try{chrome.storage.sync.get("versionData",(function(e){if(r.message&&r.message.timestamp&&!r.message.forceCheck&&e&&e.timestamp&&!((0,t.convertMsToHr)(r.message.timestamp-e.timestamp)>5))return s({error:null,data:e}),!0;fetch("https://api.github.com/repos/cmolisee/session-storage-hub/releases/latest").then((function(e){return e.json()})).then((function(e){var t={isUpToDate:"4.1.3"===e.tag_name.slice(1),timestamp:(new Date).getTime(),releaseUrl:e.html_url};s({error:null,data:t})})).catch((function(e){return console.log(e)}))}))}catch(i){s({error:"Error checking for updated release",data:{}})}return!0}return!1};chrome.runtime.onMessage.addListener(s),chrome.runtime.onMessage.addListener(i),chrome.runtime.onMessage.addListener(a)}()}();
//# sourceMappingURL=content.js.map