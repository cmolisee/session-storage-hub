!function(){"use strict";var e=function(e){return e[e.Webpage=0]="Webpage",e[e.Extension=1]="Extension",e}({}),t=function(e){return e[e.Request=0]="Request",e[e.Update=1]="Update",e[e.Post=2]="Post",e[e.Check=3]="Check",e}({}),r=function(e){return e/2777777},s=function(e,t,r,s){return s.id===chrome.runtime.id&&r.from===e&&r.action===t},n=function(r,n,a){if(s(e.Extension,t.Request,r,n)){var o=Object.assign({},sessionStorage);return a({error:o?null:"Error retrieving session storage",data:o}),!0}return!1},a=function(r,n,a){if(s(e.Extension,t.Update,r,n)){try{var o,i;Object.entries(null!==(o=null===(i=r.message)||void 0===i?void 0:i.clipboard)&&void 0!==o?o:{}).forEach((function(e){sessionStorage.setItem(e[0],e[1])})),a({error:null,data:Object.assign({},sessionStorage)})}catch(u){a({error:"Error updating session storage data",data:null})}return!0}return!1},o=function(n,a,o){if(s(e.Extension,t.Check,n,a)){try{chrome.storage.local.get("versionData",(function(e){if(n.message&&n.message.timestamp&&!n.message.forceCheck&&e&&e.timestamp&&!(r(n.message.timestamp-e.timestamp)>5))return o({error:null,data:e}),!0;console.info("Requesting check for latest release",{message:n,data:e,timestampDiff:r(n.message.timestamp-e.timestamp)>5}),fetch("https://api.github.com/repos/cmolisee/session-storage-hub/releases/latest").then((function(e){return e.json()})).then((function(e){var t={isUpToDate:"3.0.12"!==e.tag_name.slice[1],timestamp:(new Date).getTime(),releaseUrl:e.html_url};o({error:null,data:t})}))}))}catch(i){o({error:"Error checking for updated release",data:{}})}return!0}return!1};chrome.runtime.onMessage.addListener(n),chrome.runtime.onMessage.addListener(a),chrome.runtime.onMessage.addListener(o)}();
//# sourceMappingURL=content.js.map